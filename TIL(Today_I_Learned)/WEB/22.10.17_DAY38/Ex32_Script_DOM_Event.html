<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        html{border:5px solid red;padding:30px;}
        body{border:5px solid green;padding:30px;}
        fieldset{border:5px solid blue;padding:30px;}
        input{border:5px solid black;padding:30px;}
        </style>
</head>
<body>
        <fieldset>
            <legend>event propagation</legend>
            <input type="button" id="target" value="target">
        </fieldset>
</body>
<script>
    /*
    이벤트에서 element, addEventListener(event, function, useCapture);
    useCapture >> default false (bubbling)
    Capture >> true ...
    */
   function handler(event){
        let phases = ['capturing', 'target', 'bubbling'];
        //배열 [0][1][2]
        console.log("event.target.nodeName : " + event.target.nodeName);
        console.log("this.nodeName : " + this.nodeName);
        console.log("phases[event.eventPhase-1] : " + phases[event.eventPhase-1]);
        console.log("event.eventPhase : " + event.eventPhase);
   }

   document.getElementById('target').addEventListener('click', handler, false);
   document.querySelector('fieldset').addEventListener('click', handler, false);
   document.querySelector('body').addEventListener('click', handler, false);
   document.querySelector('html').addEventListener('click', handler, false);
    </script>

    <!--  
Event 발생시, Event는 PhaseR(단계) 값을 가지게 된다.
종류는
0 : none
1 : capture
2 : target
3 : bubble
이벤트의 대상을 보고 싶다면 Target을 찾으면 되고
이벤트 대상의 상위 DOM을 찾는다면 bubble을 보면 된다.
           var eventPhaseMap = {
                      0: 'NONE',
                      1: 'CAPTURE',
                      2: 'TARGET',
                      3: 'BUBBLE'
                };
           function(e) {   
                if(eventPhaseMap[e.eventPhase] === eventPhaseMap[2]){
                    sendTag(eventPhaseMap[e.eventPhase] + " : "+ document.all[i]);
                }
            }
-->
</html>